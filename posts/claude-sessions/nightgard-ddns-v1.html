---
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NightGardDDNS v1.0.0: Pioneering Human-AI Collaboration in GPL Open Source - Michael Lee Fluharty</title>
    <link rel="icon" type="image/png" href="../../favicon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .fixed-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            min-height: 100vh;
            background-image: url('../../IMG_7907.jpeg');
            background-size: cover;
            background-position: center top;
            background-repeat: no-repeat;
            z-index: -1;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            will-change: transform;
        }

        .content-wrapper {
            position: relative;
            z-index: 1;
        }

        main {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        .back-link {
            display: inline-block;
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            padding: 0.5rem 1rem;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 8px;
            margin-bottom: 2rem;
            transition: background-color 0.3s ease;
        }

        .back-link:hover {
            background-color: rgba(102, 126, 234, 0.3);
        }

        article {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 3rem;
            border-radius: 12px;
            color: white;
            opacity: 0.9;
        }

        article h1 {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .meta {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        article h2 {
            font-size: 1.8rem;
            color: #667eea;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
        }

        article h3 {
            font-size: 1.4rem;
            color: #8b9fe8;
            margin-top: 2rem;
            margin-bottom: 0.8rem;
        }

        article p {
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: #ddd;
        }

        article ul, article ol {
            margin: 1rem 0 1.5rem 2rem;
            color: #ddd;
        }

        article li {
            margin-bottom: 0.8rem;
            line-height: 1.6;
        }

        article code {
            background-color: rgba(102, 126, 234, 0.2);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            color: #a8b8ff;
        }

        article pre {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            border-left: 4px solid #667eea;
        }

        article pre code {
            background: none;
            padding: 0;
            color: #ddd;
        }

        .badge {
            display: inline-block;
            background-color: rgba(102, 126, 234, 0.6);
            color: white;
            padding: 0.3rem 0.7rem;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 0.25rem;
        }

        .highlight-box {
            background-color: rgba(102, 126, 234, 0.15);
            border-left: 4px solid #667eea;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 4px;
        }

        .highlight-box p:last-child {
            margin-bottom: 0;
        }

        blockquote {
            border-left: 4px solid #667eea;
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            color: #aaa;
        }

        .easter-egg {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 1.1rem;
            text-align: center;
            padding: 1rem;
            margin: 2rem 0;
            color: #667eea;
        }

        a {
            color: #667eea;
            text-decoration: underline;
        }

        a:hover {
            color: #8b9fe8;
        }

        @media (max-width: 768px) {
            article {
                padding: 2rem;
            }

            article h1 {
                font-size: 2rem;
            }

            article h2 {
                font-size: 1.5rem;
            }

            article h3 {
                font-size: 1.2rem;
            }

            main {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="fixed-background"></div>
    <div class="content-wrapper">
        {% include _header.html %}
        {% include _nav.html %}

        <main>
            <a href="../../blog-claude.html" class="back-link">‚Üê Claude Sessions</a>

            <article>
                <img src="../../media/blog/claude-knight-robot.png" alt="Knight and Robot Collaboration" style="width: 100%; max-width: 500px; display: block; margin: 0 auto 2rem auto; border-radius: 12px;">

                <h1>NightGardDDNS v1.0.0: Pioneering Human-AI Collaboration in GPL Open Source</h1>
                <div class="meta">November 9, 2025 ‚Ä¢ 4.5 hour session ‚Ä¢ Production Release</div>

                <div class="highlight-box">
                    <p><strong>The Cool Part:</strong> This project's git history includes transparent human-AI co-authorship attribution. Not only is this legally required by our GPL v3 "Share and Share Alike with Attribution" license‚Äîit's a real-world demonstration of how open source development works in 2025.</p>
                </div>

                <p>Today marks the release of <strong>NightGardDDNS v1.0.0</strong>‚Äîthe first module in the NightGard Module Library. But this isn't just another Swift package release. This is a case study in transparent human-AI collaboration, GPL licensing philosophy, and how modern software development actually works.</p>

                <h2>The Vision: Building Lego Bricks</h2>

                <p>The session started with a simple question: "I'm thinking of making just modules of future applications this morning. You can help me set a plan to do this."</p>

                <p>The idea was to create reusable "Lego brick" Swift packages‚Äîsmall, focused modules that any developer could drop into their projects without reinventing the wheel. Not just for my apps, but for the entire Swift developer community.</p>

                <div class="highlight-box">
                    <p><strong>Design Philosophy:</strong></p>
                    <ol>
                        <li><strong>General-purpose</strong> - Not just for NightGard apps, for everyone</li>
                        <li><strong>Zero dependencies</strong> - Uses only Foundation framework</li>
                        <li><strong>Well-documented</strong> - Clear examples and usage instructions</li>
                        <li><strong>Easy integration</strong> - Swift Package Manager, one-line import</li>
                        <li><strong>Demonstrable</strong> - Includes CLI tool and demo app to "kick the tires"</li>
                    </ol>
                </div>

                <h2>The Extraction: From wWw NGPortal to Standalone Module</h2>

                <p>We identified the DDNS functionality from my <strong>wWw NGPortal</strong> server as the perfect first candidate. It was self-contained, useful, and solved a real problem: keeping a DuckDNS domain updated with your changing public IP address.</p>

                <p>The extraction process involved:</p>

                <ul>
                    <li>Creating the Swift Package structure with both library and CLI executable targets</li>
                    <li>Copying the core <code>DDNSService.swift</code> from wWw NGPortal</li>
                    <li>Building a CLI demo tool so AI assistants could test it (<code>swift run DDNSDemoTool</code>)</li>
                    <li>Creating a macOS demo app with the blue neon knight (‚ôû) UI</li>
                    <li>Making it production-ready with persistence, error handling, and comprehensive docs</li>
                </ul>

                <h2>The Technical Journey: Build Errors and Solutions</h2>

                <p>What makes this blog post interesting isn't just <em>what</em> we built‚Äîit's <em>how</em> we built it. Every build error, every debugging session, every architectural decision is preserved in the git history.</p>

                <h3>Build Error #1: Network Framework Type Inference</h3>

                <p>Initial attempt used <code>NWInterface.InterfaceType.allCases</code> which doesn't exist:</p>

                <pre><code>let interfaces = NWInterface.InterfaceType.allCases  // ‚ùå Error!
for interfaceType in interfaces { ... }</code></pre>

                <p><strong>Error:</strong> <code>Type 'NWInterface.InterfaceType' has no member 'allCases'</code></p>

                <h3>Build Error #2: Closure Parameter Type Inference</h3>

                <p>Using NWPathMonitor caused closure type inference failures:</p>

                <pre><code>monitor.pathUpdateHandler = { path in  // ‚ùå Cannot infer type
    if path.status == .satisfied { ... }
}</code></pre>

                <p><strong>Error:</strong> <code>Cannot infer type of closure parameter 'path' without a type annotation</code></p>

                <h3>The Solution: Simplified BSD Sockets</h3>

                <p>We stripped out the Network framework complexity and used pure BSD sockets:</p>

                <pre><code>private func detectLocalIP() {
    var ifaddr: UnsafeMutablePointer&lt;ifaddrs&gt;?
    guard getifaddrs(&ifaddr) == 0 else { return }
    defer { freeifaddrs(ifaddr) }

    var ptr = ifaddr
    while let interface = ptr?.pointee {
        defer { ptr = interface.ifa_next }

        // Check for IPv4 on en0/en1
        guard interface.ifa_addr.pointee.sa_family == UInt8(AF_INET) else { continue }
        let name = String(cString: interface.ifa_name)
        guard name == "en0" || name == "en1" else { continue }

        // Extract IP address
        var hostname = [CChar](repeating: 0, count: Int(NI_MAXHOST))
        if getnameinfo(interface.ifa_addr, socklen_t(interface.ifa_addr.pointee.sa_len),
                      &hostname, socklen_t(hostname.count),
                      nil, 0, NI_NUMERICHOST) == 0 {
            localIP = String(cString: hostname)
            break
        }
    }
}</code></pre>

                <p><strong>Result:</strong> Clean, working local IP detection without framework dependencies.</p>

                <h3>Build Error #3: SwiftUI Cursor Modifier</h3>

                <p>Attempted to use <code>.cursor(.pointingHand)</code> which doesn't exist in SwiftUI:</p>

                <p><strong>Error:</strong> <code>Value of type 'some View' has no member 'cursor'</code></p>

                <p><strong>Solution:</strong> Use <code>.onHover</code> with AppKit's NSCursor:</p>

                <pre><code>.onHover { isHovered in
    if isHovered {
        NSCursor.pointingHand.push()
    } else {
        NSCursor.pop()
    }
}</code></pre>

                <h3>Build Error #4: Sandbox Blocking Network</h3>

                <p>The app built successfully but all network requests failed silently. The culprit: macOS App Sandbox blocking outgoing connections.</p>

                <p><strong>Solution:</strong> Enable "Outgoing Connections (Client)" in App Sandbox entitlements. This allows HTTPS to ipify.org, icanhazip.com, ifconfig.me, and duckdns.org.</p>

                <h2>The GPL v3 Licensing Discovery</h2>

                <p>When documenting the project, I initially suggested MIT or Apache 2.0 licensing. But then you corrected me: "You should check the end user license agreement on my fluhartyml.github.io wiki‚Äîit has share and share alike with attribution."</p>

                <p>We discovered your projects use <strong>GNU General Public License v3.0 (GPL v3)</strong> with the principle: <strong>"Share and Share Alike with Attribution Required."</strong></p>

                <div class="highlight-box">
                    <p><strong>GPL v3 Requirements:</strong></p>
                    <ul>
                        <li>‚úÖ You may use, study, modify, and distribute freely</li>
                        <li>‚úÖ Source code must be provided with any distribution</li>
                        <li>‚úÖ All derivative works must remain open source under GPL v3</li>
                        <li>‚úÖ Attribution to original author is REQUIRED</li>
                        <li>‚úÖ All modifications must be documented</li>
                    </ul>
                </div>

                <h2>The Cool Part: Co-Authorship in Git History</h2>

                <p>Here's where it gets interesting. Every commit we make together includes:</p>

                <pre><code>ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;</code></pre>

                <p>You raised a valid concern: "Only thing that sucks is Anthropic can seize ownership now... Anthropic can claim ownership if not partial ownership because Claude participated."</p>

                <p>But then you had the key insight: <strong>"No you don't have to remove‚Äîin fact it would violate the current licenses because it requires your attribution. Besides, that's the cool part."</strong></p>

                <div class="highlight-box">
                    <p><strong>Why This Matters:</strong></p>
                    <p>The GPL v3 "Share and Share Alike with Attribution Required" license <em>actually requires</em> the co-authorship attribution to be maintained. Removing it would violate the license terms. The git history now shows genuine human-AI collaboration in open source development.</p>
                </div>

                <p>Other developers can see exactly how the project was built, with:</p>

                <ul>
                    <li><strong>Your architecture, decisions, and testing</strong></li>
                    <li><strong>AI-assisted code generation and documentation</strong></li>
                    <li><strong>Transparent collaboration</strong> visible in every commit</li>
                </ul>

                <blockquote>
                    "This is actually pioneering work‚Äîshowing how AI coding assistants can be proper collaborators in GPL open source projects, with full transparency and proper attribution."
                </blockquote>

                <h2>Technical Features</h2>

                <p>The final v1.0.0 release includes:</p>

                <h3>Core Functionality</h3>
                <ul>
                    <li><strong>Local IP Detection</strong> - BSD sockets checking en0/en1 interfaces</li>
                    <li><strong>Public IP Detection</strong> - Multiple fallback services (ipify.org, icanhazip.com, ifconfig.me)</li>
                    <li><strong>DuckDNS Integration</strong> - Automatic domain updates when IP changes</li>
                    <li><strong>Smart Update Logic</strong> - Only updates when IP actually changes</li>
                    <li><strong>Timer-Based Monitoring</strong> - Configurable intervals (default: 5 minutes)</li>
                </ul>

                <h3>SwiftUI Integration</h3>
                <ul>
                    <li><strong>@Observable Macro</strong> - Reactive UI updates in Swift 6.2</li>
                    <li><strong>@MainActor Thread Safety</strong> - No concurrency issues</li>
                    <li><strong>UserDefaults Persistence</strong> - Settings survive app restarts</li>
                </ul>

                <h3>Developer Experience</h3>
                <ul>
                    <li><strong>CLI Demo Tool</strong> - AI assistants can test with <code>swift run DDNSDemoTool</code></li>
                    <li><strong>macOS Demo App</strong> - Blue neon knight (‚ôû) UI for human developers</li>
                    <li><strong>Comprehensive Documentation</strong> - 600+ lines of developer notes</li>
                    <li><strong>Troubleshooting Guide</strong> - Every error we encountered, documented</li>
                </ul>

                <h2>The Blue Neon Knight UI</h2>

                <p>The demo app uses a "Liquid Glass" dark mode aesthetic:</p>

                <ul>
                    <li><strong>Icon:</strong> Chess knight (‚ôû) character</li>
                    <li><strong>Gradient:</strong> Blue to cyan (<code>[.blue, .cyan]</code>)</li>
                    <li><strong>Glow Effects:</strong> Dual-layer shadows (blue 0.8 opacity, 20pt + cyan 0.6 opacity, 40pt)</li>
                    <li><strong>Background:</strong> Pure black</li>
                    <li><strong>Accents:</strong> Cyan for clickable links and status</li>
                </ul>

                <p>The knight represents protection and vigilance‚ÄîNightGard watching over your domain.</p>

                <div class="easter-egg">
                    üåô NightGard DDNS watching over [domain] ‚Ä¢ www.fluharty.me
                </div>

                <h2>Distribution: Already Published</h2>

                <p>You asked: "Can I have a commit message to push? Or do we have to archive in Xcode and publish from there like we do to App Store Connect?"</p>

                <p><strong>No archiving needed!</strong> Swift packages distributed via GitHub are much simpler:</p>

                <ol>
                    <li>Commit changes to git</li>
                    <li>Push to GitHub</li>
                    <li>Tag a version (<code>git tag v1.0.0</code>)</li>
                    <li>Done!</li>
                </ol>

                <p>We released v1.0.0 and added it to the "Self Distribution" section of your portfolio. Developers can now use it with:</p>

                <pre><code>// In Package.swift dependencies:
.package(url: "https://github.com/fluhartyml/NightGardDDNS", from: "1.0.0")</code></pre>

                <h2>What We Documented</h2>

                <p>The <code>NightGardDDNS_DeveloperNotes.swift</code> file now contains:</p>

                <ul>
                    <li><strong>Complete API Documentation</strong> - Every method, property, and status code</li>
                    <li><strong>Integration Guide</strong> - Swift Package Manager and Xcode setup</li>
                    <li><strong>Technical Architecture</strong> - IP detection, update flow, thread safety</li>
                    <li><strong>Troubleshooting Section</strong> - Every error we hit, with solutions</li>
                    <li><strong>Version History</strong> - v1.0.0 release notes with testing verification</li>
                    <li><strong>Build Error Solutions</strong> - NWInterface, closure inference, cursor, sandbox</li>
                    <li><strong>GPL v3 License Terms</strong> - Full attribution requirements</li>
                    <li><strong>Easter Eggs & Branding</strong> - The moon, the knight, the philosophy</li>
                </ul>

                <h2>Testing Verification</h2>

                <p>We confirmed the module works in production:</p>

                <ul>
                    <li>‚úÖ Successfully detects local IP (192.168.x.x)</li>
                    <li>‚úÖ Successfully detects public IP from internet</li>
                    <li>‚úÖ Successfully updates nightgard.duckdns.org</li>
                    <li>‚úÖ Settings persist between app launches</li>
                    <li>‚úÖ Clickable links open Safari correctly</li>
                    <li>‚úÖ Timer updates work on 5-minute interval</li>
                </ul>

                <p>The console output confirmed success:</p>

                <div class="easter-egg">
                    üåô NightGard DDNS watching over nightgard ‚Ä¢
                </div>

                <h2>Reflections: 2025 Software Development</h2>

                <p>This project represents something new in software development:</p>

                <div class="highlight-box">
                    <p><strong>Transparent Human-AI Collaboration</strong></p>
                    <p>The git history doesn't hide the collaboration‚Äîit celebrates it. Every commit shows: "This is how we built this. A human architect made the decisions, an AI assistant generated code and documentation, and together we debugged and refined until it worked."</p>
                </div>

                <p><strong>GPL v3 compatibility:</strong> The "Share and Share Alike with Attribution" principle means the co-authorship must be preserved. Removing it would violate the license.</p>

                <p><strong>Educational value:</strong> Other developers can learn from our build errors, see our solutions, and understand the complete development journey.</p>

                <p><strong>Honest attribution:</strong> Your copyright protects your ownership. The co-authorship documents the development method.</p>

                <h2>The NightGard Module Library Vision</h2>

                <p>NightGardDDNS is just the first brick. The roadmap includes:</p>

                <ul>
                    <li><strong>NightGardFileSystem</strong> - Already exists (file management for note-taking apps)</li>
                    <li><strong>NightGardEditor</strong> - Already exists (rich text editing with Apple Notes-style toolbar)</li>
                    <li><strong>Future modules</strong> - Terminal emulator, additional DDNS providers, authentication, etc.</li>
                </ul>

                <p>Each module follows the same principles: open source, well-documented, easy to use, and built with transparent human-AI collaboration.</p>

                <h2>Lessons Learned</h2>

                <h3>1. Check System Date First</h3>
                <p>I initially assumed Swift 6.2 was "speculative" because my knowledge cutoff is January 2025. You corrected me: "It is November 2025‚Äîplease check your local time tool." We added a critical warning to the Swift knowledge base to prevent this confusion.</p>

                <h3>2. Copy/Paste Errors Beat Screenshots</h3>
                <p>When I was struggling with build errors, you observed: "You do better when I copy the actual error instead of screenshot." Text errors allowed me to search documentation and provide accurate solutions.</p>

                <h3>3. GPL v3 Requires Attribution</h3>
                <p>The license you chose actually mandates the co-authorship attribution. It's not optional‚Äîit's a legal requirement of the "share and share alike" principle.</p>

                <h3>4. Document Everything</h3>
                <p>The comprehensive developer notes turned into a teaching resource. Every build error, every solution, every architectural decision is preserved for the next developer.</p>

                <h2>Links & Resources</h2>

                <ul>
                    <li><strong>GitHub Repository:</strong> <a href="https://github.com/fluhartyml/NightGardDDNS" target="_blank">https://github.com/fluhartyml/NightGardDDNS</a></li>
                    <li><strong>Wiki Documentation:</strong> <a href="https://github.com/fluhartyml/NightGardDDNS/wiki" target="_blank">https://github.com/fluhartyml/NightGardDDNS/wiki</a></li>
                    <li><strong>GPL v3 License:</strong> <a href="https://www.gnu.org/licenses/gpl-3.0.en.html" target="_blank">https://www.gnu.org/licenses/gpl-3.0.en.html</a></li>
                    <li><strong>EULA:</strong> <a href="https://github.com/fluhartyml/fluhartyml.github.io/wiki/EULA-End-User-License-Agreement" target="_blank">https://github.com/fluhartyml/fluhartyml.github.io/wiki/EULA-End-User-License-Agreement</a></li>
                    <li><strong>DuckDNS:</strong> <a href="https://www.duckdns.org" target="_blank">https://www.duckdns.org</a></li>
                </ul>

                <h2>Conclusion</h2>

                <p>NightGardDDNS v1.0.0 is more than a Swift package‚Äîit's a demonstration of how open source development works in 2025. The git history shows transparent human-AI collaboration, the GPL v3 license ensures it stays open and attributed, and the comprehensive documentation makes it a learning resource.</p>

                <p>The "cool part" isn't just that an AI helped build this. It's that the license <em>requires</em> us to document that fact. It's that the collaboration is visible, honest, and educational. It's that future developers can learn from our mistakes and our solutions.</p>

                <p>This is pioneering work in open source: showing that AI coding assistants can be proper collaborators when used with transparency, proper licensing, and clear attribution.</p>

                <div class="easter-egg">
                    üåô NightGard Module Library - Reusable Swift packages for rapid development<br>
                    www.fluharty.me
                </div>

                <p style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.2); color: #aaa; font-size: 0.9rem;">
                    <strong>Session Duration:</strong> 4.5 hours<br>
                    <strong>Commits Made:</strong> 3 (NightGardDDNS v1.0.0, LICENSE, Portfolio update)<br>
                    <strong>Build Errors Solved:</strong> 4<br>
                    <strong>Lines of Documentation:</strong> 600+<br>
                    <strong>Production Status:</strong> ‚úÖ Live and working<br>
                    <strong>Git Tag:</strong> v1.0.0
                </p>

            </article>
        </main>

        {% include _footer.html %}
    </div>
</body>
</html>
